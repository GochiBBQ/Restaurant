--[[

â–ˆâ–€â–€â–„ â–ˆâ–€â–€â–ˆ â–ˆâ–€â–€â–„ â–ˆâ–€â–€â–ˆ â–ˆâ–‘â–‘â–ˆ â–ˆâ–€â–€â–„ â–€â–€â–ˆâ–€â–€ â–€â–€â–ˆ â–ˆâ–€â–€â–ˆ â–ˆâ–€â–€ â–ˆâ–‘â–ˆ 
â–ˆâ–‘â–‘â–ˆ â–ˆâ–‘â–‘â–ˆ â–ˆâ–‘â–‘â–ˆ â–ˆâ–‘â–‘â–ˆ â–ˆâ–‘â–‘â–ˆ â–ˆâ–€â–€â–„ â–‘â–‘â–ˆâ–‘â–‘ â–„â–€â–‘ â–ˆâ–„â–„â–ˆ â–ˆâ–‘â–‘ â–ˆâ–€â–„ 
â–€â–‘â–‘â–€ â–€â–€â–€â–€ â–€â–€â–€â–‘ â–€â–€â–€â–€ â–‘â–€â–€â–€ â–€â–€â–€â–‘ â–‘â–‘â–€â–‘â–‘ â–€â–€â–€ â–€â–‘â–‘â–€ â–€â–€â–€ â–€â–‘â–€

Author: nodoubtzack
For: GochÃ­ Restaurant ğŸ¥©
https://www.roblox.com/groups/5874921/Goch#!/about

]]

-- â€”â€”â€”â€”â€”â€”â€”â€”â€” â†¢ â­ï¸ â†£ â€”â€”â€”â€”â€”â€”â€”â€”â€”
-- Services
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local PlayerService = game:GetService("Players")

-- â€”â€”â€”â€”â€”â€”â€”â€”â€” â†¢ â­ï¸ â†£ â€”â€”â€”â€”â€”â€”â€”â€”â€”
-- Variables
local Knit = require(ReplicatedStorage.Packages.Knit)

local Trove = require(ReplicatedStorage.Packages.Trove)
local trove = Trove.new()

local RateLimiter = require(Knit.Modules.RateLimiter)
local RequestRateLimiter = RateLimiter.NewRateLimiter(4)

-- â€”â€”â€”â€”â€”â€”â€”â€”â€” â†¢ â­ï¸ â†£ â€”â€”â€”â€”â€”â€”â€”â€”â€”
-- Create Knit Service
local GrillService = Knit.CreateService {
    Name = "GrillService",
	Client = {
	},
}

-- â€”â€”â€”â€”â€”â€”â€”â€”â€” â†¢ â­ï¸ â†£ â€”â€”â€”â€”â€”â€”â€”â€”â€”-
-- Server Functions
function GrillService:KnitStart()
	for i, v in pairs(workspace:WaitForChild("Tables"):GetChildren()) do
		if v:IsA("Model") then
			self.ActiveGrills[v.Name] = 5
			self.PlayerUsing[v.Name] = ""

			v.TableGrill.GrillBottom.ProximityPrompt.Triggered:Connect(function(Player)
				if self.ActiveGrills[v.Name] > 0 then
					self:SetActiveUser(Player, v.Name)
				end
			end)
		end
	end
end

function GrillService:SetActiveUser(Player: Player, Grill: string)
	if not Player or not Grill then
		return
	end

	self.ActiveGrills[Grill] -= 1
	self.PlayerUsing[Grill] = Player
end

function GrillService:DisplayItem(Grill: string, Item: string, Value: boolean)
	if not Value then
		Value = false
	end

	if not workspace.Tables[Grill] then
		return
	end

	if Value and workspace.Tables[Grill].TableGrill.Food:FindFirstChild(Item) then
		workspace.Tables[Grill].TableGrill.Food:FindFirstChild(Item).Transparency = 0
	else
		workspace.Tables[Grill].TableGrill.Food:FindFirstChild(Item).Transparency = 1
	end
end

-- â€”â€”â€”â€”â€”â€”â€”â€”â€” â†¢ â­ï¸ â†£ â€”â€”â€”â€”â€”â€”â€”â€”â€”
-- Return Service to Knit.
return GrillService